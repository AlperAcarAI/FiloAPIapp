root@FiloApiAppArchitect:/var/www/filokiapi/FiloAPIapp# # PM2 detaylı logları
pm2 logs filokiapi --lines 50

# Port 5000'in durumunu kontrol et
netstat -tlnp | grep 5000
lsof -i :5000

# PM2 process detayları
pm2 show filokiapi

# Manuel olarak uygulamayı başlat (debug için)
cd /var/www/filokiapi/FiloAPIapp
NODE_ENV=production npm start
[TAILING] Tailing last 50 lines for [filokiapi] process (change the value with --lines option)
/var/log/pm2/filokiapi-error-0.log last 50 lines:
0|filokiap | 2025-08-06T12:24:00:     _errorEmitted: true,
0|filokiap | 2025-08-06T12:24:00:     _extensions: {},
0|filokiap | 2025-08-06T12:24:00:     _paused: false,
0|filokiap | 2025-08-06T12:24:00:     _protocol: '',
0|filokiap | 2025-08-06T12:24:00:     _readyState: 3,
0|filokiap | 2025-08-06T12:24:00:     _receiver: null,
0|filokiap | 2025-08-06T12:24:00:     _sender: null,
0|filokiap | 2025-08-06T12:24:00:     _socket: null,
0|filokiap | 2025-08-06T12:24:00:     _bufferedAmount: 0,
0|filokiap | 2025-08-06T12:24:00:     _isServer: false,
0|filokiap | 2025-08-06T12:24:00:     _redirects: 0,
0|filokiap | 2025-08-06T12:24:00:     _autoPong: true,
0|filokiap | 2025-08-06T12:24:00:     _url: 'wss://localhost/v2',
0|filokiap | 2025-08-06T12:24:00:     _req: null,
0|filokiap | 2025-08-06T12:24:00:     [Symbol(shapeMode)]: false,
0|filokiap | 2025-08-06T12:24:00:     [Symbol(kCapture)]: false
0|filokiap | 2025-08-06T12:24:00:   },
0|filokiap | 2025-08-06T12:24:00:   [Symbol(kType)]: 'error',
0|filokiap | 2025-08-06T12:24:00:   [Symbol(kError)]: Error [ERR_TLS_CERT_ALTNAME_INVALID]: Hostname/IP does not match certificate's altnames: Host: localhost. is not in the cert's altnames: DNS:filokiapi.architectaiagency.com
0|filokiap | 2025-08-06T12:24:00:       at Object.checkServerIdentity (node:tls:386:12)
0|filokiap | 2025-08-06T12:24:00:       at TLSSocket.onConnectSecure (node:_tls_wrap:1689:27)
0|filokiap | 2025-08-06T12:24:00:       at TLSSocket.emit (node:events:518:28)
0|filokiap | 2025-08-06T12:24:00:       at TLSSocket._finishInit (node:_tls_wrap:1078:8)
0|filokiap | 2025-08-06T12:24:00:       at ssl.onhandshakedone (node:_tls_wrap:864:12) {
0|filokiap | 2025-08-06T12:24:00:     code: 'ERR_TLS_CERT_ALTNAME_INVALID',
0|filokiap | 2025-08-06T12:24:00:     reason: "Host: localhost. is not in the cert's altnames: DNS:filokiapi.architectaiagency.com",
0|filokiap | 2025-08-06T12:24:00:     host: 'localhost',
0|filokiap | 2025-08-06T12:24:00:     cert: {
0|filokiap | 2025-08-06T12:24:00:       subject: [Object: null prototype],
0|filokiap | 2025-08-06T12:24:00:       issuer: [Object: null prototype],
0|filokiap | 2025-08-06T12:24:00:       subjectaltname: 'DNS:filokiapi.architectaiagency.com',
0|filokiap | 2025-08-06T12:24:00:       infoAccess: [Object: null prototype],
0|filokiap | 2025-08-06T12:24:00:       ca: false,
0|filokiap | 2025-08-06T12:24:00:       bits: 256,
0|filokiap | 2025-08-06T12:24:00:       pubkey: <Buffer 04 4e 77 ff 2c c0 40 82 c5 f3 af be 59 4e 28 95 5c 21 3a 5f 25 33 8d 6d e0 cc 5b 23 78 e4 16 ca 55 59 82 99 83 5f 92 01 ee 7e a3 61 37 2a 49 21 e1 c2 ... 15 more bytes>,
0|filokiap | 2025-08-06T12:24:00:       asn1Curve: 'prime256v1',
0|filokiap | 2025-08-06T12:24:00:       nistCurve: 'P-256',
0|filokiap | 2025-08-06T12:24:00:       valid_from: 'Aug  6 09:40:59 2025 GMT',
0|filokiap | 2025-08-06T12:24:00:       valid_to: 'Nov  4 09:40:58 2025 GMT',
0|filokiap | 2025-08-06T12:24:00:       fingerprint: '1C:E8:E1:B5:34:90:BB:80:FF:82:17:90:29:29:C4:66:08:E5:DB:B5',
0|filokiap | 2025-08-06T12:24:00:       fingerprint256: 'FF:E2:C3:A2:E8:8E:BB:79:FE:CB:BC:12:84:D1:AB:44:38:45:12:66:C0:34:9A:72:46:C1:FD:E1:E7:F9:65:0E',
0|filokiap | 2025-08-06T12:24:00:       fingerprint512: 'D9:35:DC:D4:30:07:5A:BD:8D:42:B8:14:17:59:97:74:B9:06:AF:1D:34:F2:F0:52:26:E9:51:7F:3E:CA:AB:AE:87:B1:B8:4C:E9:D8:20:3D:5F:55:37:98:2B:02:F7:11:25:62:BF:A5:90:44:9C:F0:DF:A0:71:C0:38:8D:73:8B',
0|filokiap | 2025-08-06T12:24:00:       ext_key_usage: [Array],
0|filokiap | 2025-08-06T12:24:00:       serialNumber: '066B4B570E39D7336862FF5EE0ACF231619D',
0|filokiap | 2025-08-06T12:24:00:       raw: <Buffer 30 82 03 ac 30 82 03 31 a0 03 02 01 02 02 12 06 6b 4b 57 0e 39 d7 33 68 62 ff 5e e0 ac f2 31 61 9d 30 0a 06 08 2a 86 48 ce 3d 04 03 03 30 32 31 0b 30 ... 894 more bytes>,
0|filokiap | 2025-08-06T12:24:00:       issuerCertificate: [Object]
0|filokiap | 2025-08-06T12:24:00:     }
0|filokiap | 2025-08-06T12:24:00:   },
0|filokiap | 2025-08-06T12:24:00:   [Symbol(kMessage)]: "Hostname/IP does not match certificate's altnames: Host: localhost. is not in the cert's altnames: DNS:filokiapi.architectaiagency.com"
0|filokiap | 2025-08-06T12:24:00: }

/var/log/pm2/filokiapi-out-0.log last 50 lines:
0|filokiap | > rest-express@1.0.0 start
0|filokiap | > NODE_ENV=production node dist/index.js
0|filokiap | 
0|filokiap | 2025-08-06T10:23:00: 2025-08-06T10:23:00: 
0|filokiap | > rest-express@1.0.0 start
0|filokiap | > NODE_ENV=production node dist/index.js
0|filokiap | 
0|filokiap | 2025-08-06T10:23:01: 2025-08-06T10:23:01: 
0|filokiap | > rest-express@1.0.0 start
0|filokiap | > NODE_ENV=production node dist/index.js
0|filokiap | 
0|filokiap | 2025-08-06T10:23:03: 2025-08-06T10:23:03: 
0|filokiap | > rest-express@1.0.0 start
0|filokiap | > NODE_ENV=production node dist/index.js
0|filokiap | 
0|filokiap | 2025-08-06T10:23:04: 2025-08-06T10:23:04: 
0|filokiap | > rest-express@1.0.0 start
0|filokiap | > NODE_ENV=production node dist/index.js
0|filokiap | 
0|filokiap | 2025-08-06T10:23:05: 2025-08-06T10:23:06: 
0|filokiap | > rest-express@1.0.0 start
0|filokiap | > NODE_ENV=production node dist/index.js
0|filokiap | 
0|filokiap | 2025-08-06T10:23:07: 2025-08-06T10:23:07: 
0|filokiap | > rest-express@1.0.0 start
0|filokiap | > NODE_ENV=production node dist/index.js
0|filokiap | 
0|filokiap | 2025-08-06T10:23:08: 2025-08-06T10:23:09: 
0|filokiap | > rest-express@1.0.0 start
0|filokiap | > NODE_ENV=production node dist/index.js
0|filokiap | 
0|filokiap | 2025-08-06T10:28:36: 10:28:36 AM [express] serving on port 5000
0|filokiap | 2025-08-06T10:41:38: 10:41:38 AM [express] GET /api-center 200 in 33ms
0|filokiap | 2025-08-06T10:41:55: 10:41:55 AM [express] POST /api/auth/login 500 in 118ms :: {"success":false,"error":"LOGIN_ERROR","me…
0|filokiap | 2025-08-06T10:41:58: 10:41:58 AM [express] POST /api/auth/login 500 in 60ms :: {"success":false,"error":"LOGIN_ERROR","mes…
0|filokiap | 2025-08-06T10:42:05: 10:42:05 AM [express] POST /api/auth/login 500 in 52ms :: {"success":false,"error":"LOGIN_ERROR","mes…
0|filokiap | 2025-08-06T10:42:15: 10:42:15 AM [express] POST /api/auth/login 500 in 47ms :: {"success":false,"error":"LOGIN_ERROR","mes…
0|filokiap | 2025-08-06T10:42:18: 10:42:18 AM [express] POST /api/auth/login 500 in 59ms :: {"success":false,"error":"LOGIN_ERROR","mes…
0|filokiap | 2025-08-06T12:14:58: 12:14:58 PM [express] serving on port 5000
0|filokiap | 2025-08-06T12:15:05: 12:15:05 PM [express] GET /api/vehicles 200 in 68ms
0|filokiap | 2025-08-06T12:19:01: 12:19:01 PM [express] GET /api/vehicles 200 in 33ms
0|filokiap | 2025-08-06T12:19:01: 12:19:01 PM [express] HEAD /api/docs 200 in 34ms :: {"openapi":"3.0.0","info":{"title":"FiloApi - Fle…
0|filokiap | 2025-08-06T12:19:01: 12:19:01 PM [express] GET /api/health 200 in 30ms :: {"success":true,"status":"healthy","timestamp":"…
0|filokiap | 2025-08-06T12:19:22: 12:19:22 PM [express] POST /api/auth/login 500 in 100ms :: {"success":false,"error":"LOGIN_ERROR","me…
0|filokiap | 2025-08-06T12:19:29: 12:19:29 PM [express] POST /api/auth/login 500 in 51ms :: {"success":false,"error":"LOGIN_ERROR","mes…
0|filokiap | 2025-08-06T12:19:50: 12:19:50 PM [express] POST /api/auth/login 500 in 47ms :: {"success":false,"error":"LOGIN_ERROR","mes…
0|filokiap | 2025-08-06T12:24:00: 12:24:00 PM [express] GET /api/vehicles 200 in 46ms
0|filokiap | 2025-08-06T12:24:00: 12:24:00 PM [express] POST /api/auth/login 500 in 72ms :: {"success":false,"error":"LOGIN_ERROR","mes…
0|filokiap | 2025-08-06T12:24:00: 12:24:00 PM [express] GET /api/docs 200 in 41ms :: {"openapi":"3.0.0","info":{"title":"FiloApi - Flee…
0|filokiap | 2025-08-06T12:28:30: 12:28:30 PM [express] serving on port 5000

^C
Command 'netstat' not found, but can be installed with:
apt install net-tools
COMMAND     PID USER FD   TYPE DEVICE SIZE/OFF NODE NAME
node\x20/ 70556 root 23u  IPv4 139120      0t0  TCP *:5000 (LISTEN)
 Describing process with id 0 - name filokiapi 
┌───────────────────┬─────────────────────────────────────────────┐
│ status            │ online                                      │
│ name              │ filokiapi                                   │
│ namespace         │ default                                     │
│ version           │ 1.0.0                                       │
│ restarts          │ 0                                           │
│ uptime            │ 46s                                         │
│ entire log path   │ /var/log/pm2/filokiapi-0.log                │
│ script path       │ /var/www/filokiapi/FiloAPIapp/dist/index.js │
│ script args       │ N/A                                         │
│ error log path    │ /var/log/pm2/filokiapi-error-0.log          │
│ out log path      │ /var/log/pm2/filokiapi-out-0.log            │
│ pid path          │ /root/.pm2/pids/filokiapi-0.pid             │
│ interpreter       │ node                                        │
│ interpreter args  │ N/A                                         │
│ script id         │ 0                                           │
│ exec cwd          │ /var/www/filokiapi/FiloAPIapp               │
│ exec mode         │ fork_mode                                   │
│ node.js version   │ 22.18.0                                     │
│ node env          │ production                                  │
│ watch & reload    │ ✘                                           │
│ unstable restarts │ 0                                           │
│ created at        │ 2025-08-06T12:28:29.243Z                    │
└───────────────────┴─────────────────────────────────────────────┘
 Actions available 
┌────────────────────────┐
│ km:heapdump            │
│ km:cpu:profiling:start │
│ km:cpu:profiling:stop  │
│ km:heap:sampling:start │
│ km:heap:sampling:stop  │
└────────────────────────┘
 Trigger via: pm2 trigger filokiapi <action_name>

 Code metrics value 
┌────────────────────────┬───────────┐
│ Used Heap Size         │ 26.38 MiB │
│ Heap Usage             │ 95.27 %   │
│ Heap Size              │ 27.69 MiB │
│ Event Loop Latency p95 │ 0.88 ms   │
│ Event Loop Latency     │ 0.37 ms   │
│ Active handles         │ 4         │
│ Active requests        │ 0         │
└────────────────────────┴───────────┘
 Divergent env variables from local env 


 Add your own code metrics: http://bit.ly/code-metrics
 Use `pm2 logs filokiapi [--lines 1000]` to display logs
 Use `pm2 env 0` to display environment variables
 Use `pm2 monit` to monitor CPU and Memory usage filokiapi

> rest-express@1.0.0 start
> NODE_ENV=production node dist/index.js

12:29:16 PM [express] serving on port 5000
^C
root@FiloApiAppArchitect:/var/www/filokiapi/FiloAPIapp# cat ecosystem.config.cjs
module.exports = {
  apps: [{
    name: 'filokiapi',
    script: 'dist/index.js',
    cwd: '/var/www/filokiapi/FiloAPIapp',
    instances: 1,
    exec_mode: 'fork',
    env: {
      NODE_ENV: 'production',
      PORT: 5000,
      DATABASE_URL: 'postgresql://filoki_user:FilokiDB2025@localhost:5432/filoki_db',
      JWT_SECRET: 'filoki-jwt-secret-2025-prod-key-very-secure',
      JWT_REFRESH_SECRET: 'filoki-refresh-secret-2025-prod-key-very-secure',
      SESSION_SECRET: 'filoki-session-secret-2025-prod-key-very-secure',
      DOMAIN: 'filokiapi.architectaiagency.com'
    },
    error_file: '/var/log/pm2/filokiapi-error.log',
    out_file: '/var/log/pm2/filokiapi-out.log',
    log_file: '/var/log/pm2/filokiapi.log',
    time: true
  }]
};
root@FiloApiAppArchitect:/var/www/filokiapi/FiloAPIapp# 
