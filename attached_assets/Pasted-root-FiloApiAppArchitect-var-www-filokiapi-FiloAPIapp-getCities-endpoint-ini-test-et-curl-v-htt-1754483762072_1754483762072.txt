root@FiloApiAppArchitect:/var/www/filokiapi/FiloAPIapp# # getCities endpoint'ini test et
curl -v https://filokiapi.architectaiagency.com/api/getCities \
  -H "X-API-Key: filoki-api-master-key-2025" \
  -H "Accept: application/json"

# Localhost ile de dene
curl -v http://localhost:5000/api/getCities \
  -H "X-API-Key: filoki-api-master-key-2025" \
  -H "Accept: application/json"

# Cities endpoint alternatifi
curl -v https://filokiapi.architectaiagency.com/api/cities \
  -H "X-API-Key: filoki-api-master-key-2025" \
  -H "Accept: application/json"
* Host filokiapi.architectaiagency.com:443 was resolved.
* IPv6: 2606:4700:3033::6815:243e, 2606:4700:3032::ac43:bac0
* IPv4: 104.21.36.62, 172.67.186.192
*   Trying [2606:4700:3033::6815:243e]:443...
* Immediate connect fail for 2606:4700:3033::6815:243e: Network is unreachable
*   Trying [2606:4700:3032::ac43:bac0]:443...
* Immediate connect fail for 2606:4700:3032::ac43:bac0: Network is unreachable
*   Trying 104.21.36.62:443...
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
*  CAfile: /etc/ssl/certs/ca-certificates.crt
*  CApath: /etc/ssl/certs
* TLSv1.3 (IN), TLS handshake, Server hello (2):
* TLSv1.3 (IN), TLS change cipher, Change cipher spec (1):
* TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):
* TLSv1.3 (IN), TLS handshake, Certificate (11):
* TLSv1.3 (IN), TLS handshake, CERT verify (15):
* TLSv1.3 (IN), TLS handshake, Finished (20):
* TLSv1.3 (OUT), TLS change cipher, Change cipher spec (1):
* TLSv1.3 (OUT), TLS handshake, Finished (20):
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384 / x25519 / id-ecPublicKey
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=architectaiagency.com
*  start date: Jul  8 00:14:05 2025 GMT
*  expire date: Oct  6 01:12:39 2025 GMT
*  subjectAltName: host "filokiapi.architectaiagency.com" matched cert's "*.architectaiagency.com"
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify ok.
*   Certificate level 0: Public key type EC/prime256v1 (256/128 Bits/secBits), signed using ecdsa-with-SHA256
*   Certificate level 1: Public key type EC/prime256v1 (256/128 Bits/secBits), signed using ecdsa-with-SHA384
*   Certificate level 2: Public key type EC/secp384r1 (384/192 Bits/secBits), signed using ecdsa-with-SHA384
* Connected to filokiapi.architectaiagency.com (104.21.36.62) port 443
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://filokiapi.architectaiagency.com/api/getCities
* [HTTP/2] [1] [:method: GET]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: filokiapi.architectaiagency.com]
* [HTTP/2] [1] [:path: /api/getCities]
* [HTTP/2] [1] [user-agent: curl/8.12.1]
* [HTTP/2] [1] [x-api-key: filoki-api-master-key-2025]
* [HTTP/2] [1] [accept: application/json]
> GET /api/getCities HTTP/2
> Host: filokiapi.architectaiagency.com
> User-Agent: curl/8.12.1
> X-API-Key: filoki-api-master-key-2025
> Accept: application/json
> 
* Request completely sent off
* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):
* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):
2025/08/06 12:35:50 [error] 70540#70540: *199 connect() failed (111: Connection refused) while connecting to upstream, client: 104.23.187.159, server: filokiapi.architectaiagency.com, request: "GET /api/getCities HTTP/1.1", upstream: "http://[::1]:5000/api/getCities", host: "filokiapi.architectaiagency.com"
104.23.187.159 - - [06/Aug/2025:12:35:50 +0000] "GET /api/getCities HTTP/1.1" 500 102 "-" "curl/8.12.1"
< HTTP/2 500 
< date: Wed, 06 Aug 2025 12:35:50 GMT
< content-type: application/json; charset=utf-8
< content-length: 102
< server: cloudflare
< nel: {"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}
< x-powered-by: Express
< access-control-allow-methods: GET, POST, PUT, DELETE, OPTIONS
< access-control-allow-headers: Origin, X-Requested-With, Content-Type, Accept, Authorization, X-API-Key
< access-control-allow-credentials: true
< access-control-allow-origin: https://yourdomain.com
< x-content-type-options: nosniff
< x-frame-options: DENY
< x-xss-protection: 1; mode=block
< referrer-policy: strict-origin-when-cross-origin
< permissions-policy: geolocation=(), microphone=(), camera=()
< strict-transport-security: max-age=31536000; includeSubDomains; preload
< content-security-policy: default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:;
< etag: W/"66-ChQO0F7k3Aylo522uathm9abjN0"
< cf-cache-status: DYNAMIC
< report-to: {"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=I3lN%2Ffv6LxFGqVf066gx9WbSSjq6lSUluJQohXe3iUxyOP6qKFjaT%2F7XmtwJxjLGPcDbU%2F%2FOV3JwQxcF%2BJEmsp37dI2ADmyz5S7qPaaooEWNyiFngrsTJSnUdy1wL%2FY%3D"}]}
< cf-ray: 96ae93928a368e3e-EWR
< alt-svc: h3=":443"; ma=86400
< 
* Connection #0 to host filokiapi.architectaiagency.com left intact
{"success":false,"error":"CITIES_FETCH_ERROR","message":"Şehir listesi alınırken bir hata oluştu"}* Host localhost:5000 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
*   Trying [::1]:5000...
* connect to ::1 port 5000 from ::1 port 39018 failed: Connection refused
*   Trying 127.0.0.1:5000...
* Connected to localhost (127.0.0.1) port 5000
* using HTTP/1.x
> GET /api/getCities HTTP/1.1
> Host: localhost:5000
> User-Agent: curl/8.12.1
> X-API-Key: filoki-api-master-key-2025
> Accept: application/json
> 
* Request completely sent off
< HTTP/1.1 500 Internal Server Error
< X-Powered-By: Express
< Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS
< Access-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept, Authorization, X-API-Key
< Access-Control-Allow-Credentials: true
< Access-Control-Allow-Origin: https://yourdomain.com
< X-Content-Type-Options: nosniff
< X-Frame-Options: DENY
< X-XSS-Protection: 1; mode=block
< Referrer-Policy: strict-origin-when-cross-origin
< Permissions-Policy: geolocation=(), microphone=(), camera=()
< Strict-Transport-Security: max-age=31536000; includeSubDomains; preload
< Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:;
< Content-Type: application/json; charset=utf-8
< Content-Length: 102
< ETag: W/"66-ChQO0F7k3Aylo522uathm9abjN0"
< Date: Wed, 06 Aug 2025 12:35:50 GMT
< Connection: keep-alive
< Keep-Alive: timeout=5
< 
* Connection #0 to host localhost left intact
{"success":false,"error":"CITIES_FETCH_ERROR","message":"Şehir listesi alınırken bir hata oluştu"}* Host filokiapi.architectaiagency.com:443 was resolved.
* IPv6: 2606:4700:3032::ac43:bac0, 2606:4700:3033::6815:243e
* IPv4: 104.21.36.62, 172.67.186.192
*   Trying [2606:4700:3032::ac43:bac0]:443...
* Immediate connect fail for 2606:4700:3032::ac43:bac0: Network is unreachable
*   Trying [2606:4700:3033::6815:243e]:443...
* Immediate connect fail for 2606:4700:3033::6815:243e: Network is unreachable
*   Trying 104.21.36.62:443...
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
*  CAfile: /etc/ssl/certs/ca-certificates.crt
*  CApath: /etc/ssl/certs
* TLSv1.3 (IN), TLS handshake, Server hello (2):
* TLSv1.3 (IN), TLS change cipher, Change cipher spec (1):
* TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):
* TLSv1.3 (IN), TLS handshake, Certificate (11):
* TLSv1.3 (IN), TLS handshake, CERT verify (15):
* TLSv1.3 (IN), TLS handshake, Finished (20):
* TLSv1.3 (OUT), TLS change cipher, Change cipher spec (1):
* TLSv1.3 (OUT), TLS handshake, Finished (20):
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384 / x25519 / id-ecPublicKey
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=architectaiagency.com
*  start date: Jul  8 00:14:05 2025 GMT
*  expire date: Oct  6 01:12:39 2025 GMT
*  subjectAltName: host "filokiapi.architectaiagency.com" matched cert's "*.architectaiagency.com"
*  issuer: C=US; O=Google Trust Services; CN=WE1
*  SSL certificate verify ok.
*   Certificate level 0: Public key type EC/prime256v1 (256/128 Bits/secBits), signed using ecdsa-with-SHA256
*   Certificate level 1: Public key type EC/prime256v1 (256/128 Bits/secBits), signed using ecdsa-with-SHA384
*   Certificate level 2: Public key type EC/secp384r1 (384/192 Bits/secBits), signed using ecdsa-with-SHA384
* Connected to filokiapi.architectaiagency.com (104.21.36.62) port 443
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://filokiapi.architectaiagency.com/api/cities
* [HTTP/2] [1] [:method: GET]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: filokiapi.architectaiagency.com]
* [HTTP/2] [1] [:path: /api/cities]
* [HTTP/2] [1] [user-agent: curl/8.12.1]
* [HTTP/2] [1] [x-api-key: filoki-api-master-key-2025]
* [HTTP/2] [1] [accept: application/json]
> GET /api/cities HTTP/2
> Host: filokiapi.architectaiagency.com
> User-Agent: curl/8.12.1
> X-API-Key: filoki-api-master-key-2025
> Accept: application/json
> 
* Request completely sent off
* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):
* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):
162.158.155.19 - - [06/Aug/2025:12:35:51 +0000] "GET /api/cities HTTP/1.1" 200 625 "-" "curl/8.12.1"
< HTTP/2 200 
< date: Wed, 06 Aug 2025 12:35:51 GMT
< content-type: text/html; charset=UTF-8
< server: cloudflare
< nel: {"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}
< x-powered-by: Express
< access-control-allow-methods: GET, POST, PUT, DELETE, OPTIONS
< access-control-allow-headers: Origin, X-Requested-With, Content-Type, Accept, Authorization, X-API-Key
< access-control-allow-credentials: true
< access-control-allow-origin: https://yourdomain.com
< x-content-type-options: nosniff
< x-frame-options: DENY
< x-xss-protection: 1; mode=block
< referrer-policy: strict-origin-when-cross-origin
< permissions-policy: geolocation=(), microphone=(), camera=()
< strict-transport-security: max-age=31536000; includeSubDomains; preload
< content-security-policy: default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:;
< accept-ranges: bytes
< cache-control: public, max-age=0
< last-modified: Wed, 06 Aug 2025 09:53:32 GMT
< report-to: {"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=w2t%2BSUZZpoNQeNt9e3rCcRi4gB%2BH%2B4fpy6rIKkUNyjg%2BhZx0gKrJGD5dc7H1phcGYdBYFZtNzI4109mg%2BvgaVbj3XFmB0N3nEe0OXFcb%2BksQ9NmN%2B6xp0qLMqhZ6aVk%3D"}]}
< cf-cache-status: DYNAMIC
< cf-ray: 96ae9393faea4302-EWR
< alt-svc: h3=":443"; ma=86400
< 
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <script type="module" crossorigin src="/assets/index-CB99cb1a.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-nnYsetae.css">
  </head>
  <body>
    <div id="root"></div>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
* Connection #0 to host filokiapi.architectaiagency.com left intact
</html>root@FiloApiAppArchitect:/var/www/filokiapi/FiloAPIapp# 