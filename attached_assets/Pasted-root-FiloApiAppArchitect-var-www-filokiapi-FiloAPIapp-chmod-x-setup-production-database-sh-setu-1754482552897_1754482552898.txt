root@FiloApiAppArchitect:/var/www/filokiapi/FiloAPIapp# chmod +x setup-production-database.sh
./setup-production-database.sh
ğŸš€ FiloAPI Production Database Setup baÅŸlatÄ±lÄ±yor...
ğŸ“Š VeritabanÄ± baÄŸlantÄ±sÄ± test ediliyor...
âœ… VeritabanÄ± baÄŸlantÄ±sÄ± baÅŸarÄ±lÄ±!
ğŸ—ï¸  TablolarÄ± oluÅŸturuluyor...
CREATE EXTENSION
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
âœ… Tablolar baÅŸarÄ±yla oluÅŸturuldu!
âš¡ Index'ler oluÅŸturuluyor...
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
CREATE INDEX
âœ… Index'ler baÅŸarÄ±yla oluÅŸturuldu!
ğŸŒ± Temel veriler ekleniyor...
INSERT 0 9
INSERT 0 41
INSERT 0 4
INSERT 0 11
INSERT 0 4
INSERT 0 3
INSERT 0 1
INSERT 0 24
INSERT 0 20
INSERT 0 7
psql:production-seed-data.sql:196: ERROR:  column "year_end" is of type integer but expression is of type text
LINE 4:     model_name, year_start, year_end, fuel_type, engine_size...
                                    ^
HINT:  You will need to rewrite or cast the expression.
psql:production-seed-data.sql:212: ERROR:  column "year_end" is of type integer but expression is of type text
LINE 4:     model_name, year_start, year_end, fuel_type, engine_size...
                                    ^
HINT:  You will need to rewrite or cast the expression.
âœ… Temel veriler baÅŸarÄ±yla eklendi!
ğŸ” OluÅŸturulan tablolarÄ± kontrol ediliyor...
                   List of relations
 Schema |          Name          | Type  |    Owner    
--------+------------------------+-------+-------------
 public | access_levels          | table | filoki_user
 public | api_client_permissions | table | filoki_user
 public | api_clients            | table | filoki_user
 public | api_endpoints          | table | filoki_user
 public | api_keys               | table | filoki_user
 public | api_rate_limit         | table | filoki_user
 public | api_request_logs       | table | filoki_user
 public | api_tokens             | table | filoki_user
 public | api_usage_logs         | table | filoki_user
 public | api_usage_stats        | table | filoki_user
 public | audit_logs             | table | filoki_user
 public | car_brands             | table | filoki_user
 public | car_models             | table | filoki_user
 public | cities                 | table | filoki_user
 public | companies              | table | filoki_user
 public | countries              | table | filoki_user
 public | documents              | table | filoki_user
 public | fin_current_accounts   | table | filoki_user
 public | login_attempts         | table | filoki_user
 public | password_history       | table | filoki_user
 public | permissions            | table | filoki_user
 public | personnel              | table | filoki_user
 public | rate_limit_buckets     | table | filoki_user
 public | refresh_tokens         | table | filoki_user
 public | roles                  | table | filoki_user
 public | security_events        | table | filoki_user
 public | sessions               | table | filoki_user
 public | user_access_rights     | table | filoki_user
 public | user_devices           | table | filoki_user
 public | users                  | table | filoki_user
 public | vehicles               | table | filoki_user
 public | work_areas             | table | filoki_user
(32 rows)

ğŸ“ˆ Tablo sayÄ±larÄ±nÄ± kontrol ediliyor...
 schemaname | tablename | attname | n_distinct | correlation 
------------+-----------+---------+------------+-------------
(0 rows)

ğŸ¯ Admin kullanÄ±cÄ±sÄ± oluÅŸturuluyor...
INSERT 0 1
INSERT 0 1
INSERT 0 1
ğŸ Kurulum tamamlandÄ±!

ğŸ“‹ Kurulum Ã–zeti:
   â€¢ VeritabanÄ±: filoki_db
   â€¢ KullanÄ±cÄ±: filoki_user
   â€¢ Host: localhost:5432

ğŸ” Admin Bilgileri:
   â€¢ Email: alper.acar@architectaiagency.com
   â€¢ Åifre: Acar
   â€¢ API Key: filoki-api-master-key-2025

ğŸ§ª Test komutu:
curl -H 'X-API-Key: filoki-api-master-key-2025' http://localhost:5000/api/vehicles

ğŸ“š API Docs: http://localhost:5000/api/docs
root@FiloApiAppArchitect:/var/www/filokiapi/FiloAPIapp# pm2 restart filokiapi
curl -H "X-API-Key: filoki-api-master-key-2025" http://localhost:5000/api/vehicles
Use --update-env to update environment variables
[PM2] Applying action restartProcessId on app [filokiapi](ids: [ 0 ])
[PM2] [filokiapi](0) âœ“
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name               â”‚ mode     â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ memory   â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ filokiapi          â”‚ fork     â”‚ 1    â”‚ online    â”‚ 0%       â”‚ 20.9mb   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
curl: (7) Failed to connect to localhost port 5000 after 0 ms: Could not connect to server
root@FiloApiAppArchitect:/var/www/filokiapi/FiloAPIapp# curl -H "X-API-Key: filoki-api-master-key-2025" http://localhost:5000/api/vehicles
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <script type="module" crossorigin src="/assets/index-CB99cb1a.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-nnYsetae.css">
  </head>
  <body>
    <div id="root"></div>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>root@FiloApiAppArchitect:/var/www/filokiapi/FiloAPIapp# 
